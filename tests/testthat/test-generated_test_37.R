test_that("auto-generated test #37", {
  do_refactor <- FALSE
  do_sum_y <- FALSE
  nthreads <- 4
  obs2keep <- 0
  only_slope <- FALSE
  r_x_sizes <- 0
  rm_0 <- FALSE
  rm_1 <- FALSE
  rm_single <- FALSE
  x <- structure(list(`fe2^fe3` = c(41, 32, 13, 14, 55, 41, 22, 33, 14, 15, 21, 42, 33, 24, 25, 41, 32, 33, 24, 45, 51, 42, 13, 24, 45, 21, 32, 13, 24, 15, 41, 32, 33, 14, 15, 21, 42, 13, 24, 25, 51, 54, 55, 11, 32, 33, 14, 15, 11, 52, 53, 34, 35, 31, 42, 53, 44, 15, 51, 42, 43, 14, 55, 31, 42, 13, 54, 35, 11, 12, 33, 44, 55, 21, 52, 13, 44, 35, 11, 32, 23, 44, 35, 21, 22, 13, 44, 25, 11, 14, 45, 21, 52, 53, 14, 55, 32, 33, 44, 15, 51, 52, 43, 44, 15, 21, 42, 43, 44, 45, 21, 42, 53, 14, 25, 11, 52, 23, 14, 45, 41, 52, 13, 14, 15, 51)), class = "data.frame", row.names = c(NA, -126L))
  y <- c(5, 4.4, 4.9, 5.4, 4.8, 4.8, 4.3, 5.8, 5.7, 5.4, 5.1, 5.7, 5.1, 5.4, 5.1, 4.6, 5.1, 4.8, 5, 5, 5.2, 5.2, 4.7, 4.8, 5.4, 5.2, 5.5, 4.9, 5, 5.5, 4.9, 4.4, 5.1, 5, 4.5, 4.4, 5, 5.1, 4.8, 5.1, 4.6, 7, 6.4, 6.9, 5.5, 6.5, 5.7, 6.3, 4.9, 6.6, 5.2, 5, 5.9, 6, 6.1, 5.6, 6.7, 5.6, 5.8, 6.2, 5.6, 5.9, 6.1, 6.3, 6.1, 6.4, 6.6, 6.8, 6.7, 6, 5.7, 5.5, 5.5, 5.8, 6, 5.4, 6, 6.7, 6.3, 5.6, 5.5, 5.5, 6.1, 5.8, 5, 5.6, 5.7, 5.7, 6.2, 6.3, 5.8, 7.1, 6.3, 6.5, 7.6, 4.9, 7.7, 6, 6.9, 5.6, 7.7, 6.3, 6.7, 7.2, 6.2, 6.1, 6.4, 7.2, 7.4, 7.9, 6.4, 6.3, 6.1, 7.7, 6.3, 6.4, 6, 6.9, 6.7, 6.9, 5.8, 6.8, 6.7, 6.7, 6.3, 6.5)
  result <- cpppar_quf_table_sum(x, y, do_sum_y, rm_0, rm_1, rm_single, only_slope, nthreads, do_refactor, r_x_sizes, obs2keep)
  expected_result <- list(quf = list(c(1L, 2L, 3L, 4L, 5L, 1L, 6L, 7L, 4L, 8L, 9L, 10L, 7L, 11L, 12L, 1L, 2L, 7L, 11L, 13L, 14L, 10L, 3L, 11L, 13L, 9L, 2L, 3L, 11L, 8L, 1L, 2L, 7L, 4L, 8L, 9L, 10L, 3L, 11L, 12L, 14L, 15L, 5L, 16L, 2L, 7L, 4L, 8L, 16L, 17L, 18L, 19L, 20L, 21L, 10L, 18L, 22L, 8L, 14L, 10L, 23L, 4L, 5L, 21L, 10L, 3L, 15L, 20L, 16L, 24L, 7L, 22L, 5L, 9L, 17L, 3L, 22L, 20L, 16L, 2L, 25L, 22L, 20L, 9L, 6L, 3L, 22L, 12L, 16L, 4L, 13L, 9L, 17L, 18L, 4L, 5L, 2L, 7L, 22L, 8L, 14L, 17L, 23L, 22L, 8L, 9L, 10L, 23L, 22L, 13L, 9L, 10L, 18L, 4L, 12L, 16L, 17L, 25L, 4L, 13L, 1L, 17L, 3L, 4L, 8L, 14L)), items = list(c(41, 32, 13, 14, 55, 22, 33, 15, 21, 42, 24, 25, 45, 51, 54, 11, 52, 53, 34, 35, 31, 44, 43, 12, 23)), table = list(c(5L, 7L, 8L, 10L, 5L, 2L, 7L, 8L, 8L, 8L, 5L, 4L, 5L, 5L, 2L, 6L, 6L, 4L, 1L, 4L, 2L, 8L, 3L, 1L, 2L)), sum_y = list(0L))

  expect_identical(result, expected_result)
})
